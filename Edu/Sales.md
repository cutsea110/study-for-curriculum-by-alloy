---
title: Sales
---

# 学費の概要

学費は学生を顧客とみなして,大学における主要な売上となる.
入学金や授業料などの売上を立てるとともに請求および入金の処理を表現する.

# 依存モデル

```alloy
private open Base
private open Department
private open Student

private open util/time
```

## 各種列挙値

上位のモデルで使用する列挙値を定義する.

## 顧客

学生を顧客とみなす.

```alloy
sig 顧客 extends 学生{
	請求先 : lone 関係者,
}
```

## 学費

学費は商品マスタとして定義する.

```alloy
sig 学費{
	年度 : lone 年度,
	期 : lone 期,
	学部学科 : lone 学部学科,
	学年 : lone 年次,
	金額 : Int,
}
```

## 売上

各学生からの学費が売上あるいは売掛となる.

```alloy
sig 売上{
	売上日 : Time,
	顧客 : 顧客,

	年度 : 年度,
	期 : 期,
}

sig 売上明細{
	売上 : 売上,

	種別 : 学費,
	金額 : Int,
}
```

## 請求

学費の請求は各顧客学生の請求先に年度,期ごとにまとめて行えるように定義する.

```alloy
sig 請求{
	請求日 : Time,
	請求先 : 関係者,
}

sig 請求明細{
	請求 : 請求,

	対象 : set 売上明細,
}
```

## 入金

入金はあくまで銀行からのEBなどからの入金としてのみ定義する.

```alloy
sig 入金口座{
}

sig 入金{
	入金日 : Time,
	振込元 : lone 関係者,
	入金額 : Int,

	入金口座 : 入金口座,

	対象 : set 請求明細,
}
```


## 前提

以下にモデルが有効であるための前提を示す.
この前提は運用を含めたシステム全体に対する仮定であり,次の正当性検証の前件となる.


## 仕様および基本設計の正当性検証

上記モデルの満足すべき仕様を以下に示す.
これらの検証により基本設計としてのモデルが正当であることを保証する.
